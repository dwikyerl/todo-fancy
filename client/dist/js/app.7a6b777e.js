(function(t){function e(e){for(var s,r,i=e[0],c=e[1],l=e[2],d=0,p=[];d<i.length;d++)r=i[d],a[r]&&p.push(a[r][0]),a[r]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(e);while(p.length)p.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],s=!0,i=1;i<n.length;i++){var c=n[i];0!==a[c]&&(s=!1)}s&&(o.splice(e--,1),t=r(r.s=n[0]))}return t}var s={},a={1:0},o=[];function r(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=s,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(n,s,function(e){return t[e]}.bind(null,s));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var u=c;o.push([8,0]),n()})({"5pot":function(t,e,n){"use strict";var s=n("Uc8q"),a=n.n(s);a.a},"62pI":function(t,e,n){},8:function(t,e,n){t.exports=n("Vtdi")},CY9Q:function(t,e,n){},EAwK:function(t,e,n){},JGp3:function(t,e,n){"use strict";var s=n("jd/z"),a=n.n(s);a.a},"Kn+W":function(t,e,n){"use strict";var s=n("62pI"),a=n.n(s);a.a},PEmz:function(t,e,n){"use strict";var s=n("CY9Q"),a=n.n(s);a.a},RnhZ:function(t,e,n){var s={"./af":"K/tc","./af.js":"K/tc","./ar":"jnO4","./ar-dz":"o1bE","./ar-dz.js":"o1bE","./ar-kw":"Qj4J","./ar-kw.js":"Qj4J","./ar-ly":"HP3h","./ar-ly.js":"HP3h","./ar-ma":"CoRJ","./ar-ma.js":"CoRJ","./ar-sa":"gjCT","./ar-sa.js":"gjCT","./ar-tn":"bYM6","./ar-tn.js":"bYM6","./ar.js":"jnO4","./az":"SFxW","./az.js":"SFxW","./be":"H8ED","./be.js":"H8ED","./bg":"hKrs","./bg.js":"hKrs","./bm":"p/rL","./bm.js":"p/rL","./bn":"kEOa","./bn.js":"kEOa","./bo":"0mo+","./bo.js":"0mo+","./br":"aIdf","./br.js":"aIdf","./bs":"JVSJ","./bs.js":"JVSJ","./ca":"1xZ4","./ca.js":"1xZ4","./cs":"PA2r","./cs.js":"PA2r","./cv":"A+xa","./cv.js":"A+xa","./cy":"l5ep","./cy.js":"l5ep","./da":"DxQv","./da.js":"DxQv","./de":"tGlX","./de-at":"s+uk","./de-at.js":"s+uk","./de-ch":"u3GI","./de-ch.js":"u3GI","./de.js":"tGlX","./dv":"WYrj","./dv.js":"WYrj","./el":"jUeY","./el.js":"jUeY","./en-au":"Dmvi","./en-au.js":"Dmvi","./en-ca":"OIYi","./en-ca.js":"OIYi","./en-gb":"Oaa7","./en-gb.js":"Oaa7","./en-ie":"4dOw","./en-ie.js":"4dOw","./en-il":"czMo","./en-il.js":"czMo","./en-nz":"b1Dy","./en-nz.js":"b1Dy","./eo":"Zduo","./eo.js":"Zduo","./es":"iYuL","./es-do":"CjzT","./es-do.js":"CjzT","./es-us":"Vclq","./es-us.js":"Vclq","./es.js":"iYuL","./et":"7BjC","./et.js":"7BjC","./eu":"D/JM","./eu.js":"D/JM","./fa":"jfSC","./fa.js":"jfSC","./fi":"gekB","./fi.js":"gekB","./fo":"ByF4","./fo.js":"ByF4","./fr":"nyYc","./fr-ca":"2fjn","./fr-ca.js":"2fjn","./fr-ch":"Dkky","./fr-ch.js":"Dkky","./fr.js":"nyYc","./fy":"cRix","./fy.js":"cRix","./gd":"9rRi","./gd.js":"9rRi","./gl":"iEDd","./gl.js":"iEDd","./gom-latn":"DKr+","./gom-latn.js":"DKr+","./gu":"4MV3","./gu.js":"4MV3","./he":"x6pH","./he.js":"x6pH","./hi":"3E1r","./hi.js":"3E1r","./hr":"S6ln","./hr.js":"S6ln","./hu":"WxRl","./hu.js":"WxRl","./hy-am":"1rYy","./hy-am.js":"1rYy","./id":"UDhR","./id.js":"UDhR","./is":"BVg3","./is.js":"BVg3","./it":"bpih","./it.js":"bpih","./ja":"B55N","./ja.js":"B55N","./jv":"tUCv","./jv.js":"tUCv","./ka":"IBtZ","./ka.js":"IBtZ","./kk":"bXm7","./kk.js":"bXm7","./km":"6B0Y","./km.js":"6B0Y","./kn":"PpIw","./kn.js":"PpIw","./ko":"Ivi+","./ko.js":"Ivi+","./ky":"lgnt","./ky.js":"lgnt","./lb":"RAwQ","./lb.js":"RAwQ","./lo":"sp3z","./lo.js":"sp3z","./lt":"JvlW","./lt.js":"JvlW","./lv":"uXwI","./lv.js":"uXwI","./me":"KTz0","./me.js":"KTz0","./mi":"aIsn","./mi.js":"aIsn","./mk":"aQkU","./mk.js":"aQkU","./ml":"AvvY","./ml.js":"AvvY","./mn":"lYtQ","./mn.js":"lYtQ","./mr":"Ob0Z","./mr.js":"Ob0Z","./ms":"6+QB","./ms-my":"ZAMP","./ms-my.js":"ZAMP","./ms.js":"6+QB","./mt":"G0Uy","./mt.js":"G0Uy","./my":"honF","./my.js":"honF","./nb":"bOMt","./nb.js":"bOMt","./ne":"OjkT","./ne.js":"OjkT","./nl":"+s0g","./nl-be":"2ykv","./nl-be.js":"2ykv","./nl.js":"+s0g","./nn":"uEye","./nn.js":"uEye","./pa-in":"8/+R","./pa-in.js":"8/+R","./pl":"jVdC","./pl.js":"jVdC","./pt":"8mBD","./pt-br":"0tRk","./pt-br.js":"0tRk","./pt.js":"8mBD","./ro":"lyxo","./ro.js":"lyxo","./ru":"lXzo","./ru.js":"lXzo","./sd":"Z4QM","./sd.js":"Z4QM","./se":"//9w","./se.js":"//9w","./si":"7aV9","./si.js":"7aV9","./sk":"e+ae","./sk.js":"e+ae","./sl":"gVVK","./sl.js":"gVVK","./sq":"yPMs","./sq.js":"yPMs","./sr":"zx6S","./sr-cyrl":"E+lV","./sr-cyrl.js":"E+lV","./sr.js":"zx6S","./ss":"Ur1D","./ss.js":"Ur1D","./sv":"X709","./sv.js":"X709","./sw":"dNwA","./sw.js":"dNwA","./ta":"PeUW","./ta.js":"PeUW","./te":"XLvN","./te.js":"XLvN","./tet":"V2x9","./tet.js":"V2x9","./tg":"Oxv6","./tg.js":"Oxv6","./th":"EOgW","./th.js":"EOgW","./tl-ph":"Dzi0","./tl-ph.js":"Dzi0","./tlh":"z3Vd","./tlh.js":"z3Vd","./tr":"DoHr","./tr.js":"DoHr","./tzl":"z1FC","./tzl.js":"z1FC","./tzm":"wQk9","./tzm-latn":"tT3J","./tzm-latn.js":"tT3J","./tzm.js":"wQk9","./ug-cn":"YRex","./ug-cn.js":"YRex","./uk":"raLr","./uk.js":"raLr","./ur":"UpQW","./ur.js":"UpQW","./uz":"Loxo","./uz-latn":"AQ68","./uz-latn.js":"AQ68","./uz.js":"Loxo","./vi":"KSF8","./vi.js":"KSF8","./x-pseudo":"/X5v","./x-pseudo.js":"/X5v","./yo":"fzPg","./yo.js":"fzPg","./zh-cn":"XDpg","./zh-cn.js":"XDpg","./zh-hk":"SatO","./zh-hk.js":"SatO","./zh-tw":"kOpN","./zh-tw.js":"kOpN"};function a(t){var e=o(t);return n(e)}function o(t){var e=s[t];if(!(e+1)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return e}a.keys=function(){return Object.keys(s)},a.resolve=o,t.exports=a,a.id="RnhZ"},Uc8q:function(t,e,n){},Vtdi:function(t,e,n){"use strict";n.r(e);n("VRzm");var s=n("Kw5r"),a=n("P6ep"),o=n.n(a),r=(n("jgpq"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("AppHeader"),n("router-view",{}),t.isTodoModalOpened?n("todo-form-modal"):t._e()],1)}),i=[],c=n("yT7P"),l=n("L2JU"),u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav",{staticClass:"navbar is-fixed-top has-shadow",attrs:{role:"navigation","aria-label":"main navigation"}},[n("div",{staticClass:"navbar-brand"},[n("router-link",{staticClass:"navbar-item",attrs:{to:{name:"dashboard"}}},[n("span",{staticClass:"icon"},[n("b-icon",{attrs:{icon:"playlist-check"}})],1),n("span",{staticClass:"is-size-4"},[t._v("Fancy Todo")])]),t.isLoggedIn?n("a",{staticClass:"navbar-burger",class:{"is-active":t.isBurgerActive},attrs:{role:"button","aria-label":"menu","aria-expanded":"false"},on:{click:function(e){t.isBurgerActive=!t.isBurgerActive}}},[n("span",{attrs:{"aria-hidden":"true"}}),n("span",{attrs:{"aria-hidden":"true"}}),n("span",{attrs:{"aria-hidden":"true"}})]):t._e()],1),t.isLoggedIn?n("div",{staticClass:"navbar-menu",class:{"is-active":t.isBurgerActive}},[n("div",{staticClass:"navbar-end"},[n("div",{staticClass:"navbar-item"},[n("button",{staticClass:"button is-primary",on:{click:t.openTodoModal}},[n("b-icon",{attrs:{icon:"library-plus"}}),n("span",[t._v("Add Todo")])],1)]),n("hr",{staticClass:"navbar-divider"}),n("div",{staticClass:"navbar-item has-dropdown is-hoverable"},[n("div",{staticClass:"navbar-link"},[t._v("\n          "+t._s(t.username)+"\n        ")]),n("div",{staticClass:"navbar-dropdown is-right"},[n("a",{staticClass:"navbar-item",on:{click:function(e){return e.preventDefault(),t.submitSignOut(e)}}},[n("div",[n("b-icon",{attrs:{icon:"logout",size:"is-small"}}),n("span",[t._v("Sign Out")])],1)])])])])]):t._e()])},d=[],p=(n("f3/d"),{name:"AppHeader",data:function(){return{isBurgerActive:!1}},computed:Object(c["a"])({},Object(l["c"])(["isLoggedIn","username","email"])),methods:Object(c["a"])({},Object(l["b"])(["signOut","getUserInfo","openTodoModal"]),{submitSignOut:function(){this.isBurgerActive=!1,this.signOut()}}),created:function(){"signin"!==this.$route.name&&"signup"!==this.$route.name&&this.getUserInfo()}}),m=p,f=(n("hMKP"),n("KHd+")),h=Object(f["a"])(m,u,d,!1,null,null,null),v=h.exports,b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal",class:{"is-active":t.isTodoModalOpened}},[n("div",{staticClass:"modal-background",on:{click:t.closeTodoModal}}),n("div",{staticClass:"modal-card"},[n("header",{staticClass:"modal-card-head"},[n("p",{staticClass:"modal-card-title"},[t._v(t._s(t.currentTodo?"Edit":"Add")+" Todo")]),n("button",{staticClass:"delete",attrs:{"aria-label":"close"},on:{click:t.closeTodoModal}})]),n("section",{staticClass:"modal-card-body"},[n("form",{on:{submit:function(e){return e.preventDefault(),t.submitTodo(e)}}},[n("div",{staticClass:"field"},[n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[t._v("Content")]),n("div",{staticClass:"control"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],staticClass:"input is-large",attrs:{type:"text",placeholder:"Todo Content",required:""},domProps:{value:t.content},on:{input:function(e){e.target.composing||(t.content=e.target.value)}}})])])]),n("div",{staticClass:"field"},[n("b-field",{attrs:{label:"Select a deadline date"}},[[n("b-datepicker",{attrs:{inline:"","min-date":t.yesterdayDate},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})]],2)],1)])]),n("footer",{staticClass:"modal-card-foot"},[n("button",{staticClass:"button is-success",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.submitTodo(e)}}},[t._v(t._s(t.currentTodo?"Edit":"Add")+" Todo")]),n("button",{staticClass:"button",attrs:{type:"cancel"},on:{click:t.closeTodoModal}},[t._v("Cancel")])])])])},j=[],g={name:"TodoFormModal",data:function(){return{content:"",date:new Date}},computed:Object(c["a"])({},Object(l["c"])(["isTodoModalOpened","currentTodo"]),{yesterdayDate:function(){var t=new Date;return t.setDate(t.getDate()-1),t}}),methods:Object(c["a"])({},Object(l["b"])(["closeTodoModal","addNewTodo","updateTodo"]),{submitTodo:function(){var t={id:this.currentTodo._id,content:this.content,deadline:this.date};this.currentTodo?this.updateTodo(t):this.addNewTodo(t),this.content="",this.date=new Date,this.closeTodoModal()}}),created:function(){this.currentTodo&&(this.content=this.currentTodo.content,this.date=new Date(this.currentTodo.deadline))}},T=g,O=Object(f["a"])(T,b,j,!1,null,null,null),k=O.exports,w={name:"App",components:{AppHeader:v,TodoFormModal:k},computed:Object(c["a"])({},Object(l["c"])(["isTodoModalOpened"]))},C=w,_=(n("nNx0"),Object(f["a"])(C,r,i,!1,null,null,null)),y=_.exports,D=n("jE9Z"),E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hero is-primary is-fullheight"},[n("div",{staticClass:"hero-body"},[n("div",{staticClass:"container"},[n("div",{staticClass:"columns is-centered"},[n("router-view")],1)])])])},x=[],S=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"column is-6-tablet is-5-desktop is-4-widescreen"},[n("div",{staticClass:"box"},[n("div",{staticClass:"field has-text-centered"},[n("span",{staticClass:"icon"},[n("b-icon",{attrs:{icon:"playlist-check"}})],1),n("span",{staticClass:"is-size-4"},[t._v("Fancy Todo")])]),n("div",{staticClass:"field"},[n("button",{staticClass:"button is-info is-fullwidth is-hoverable",on:{click:function(e){return e.preventDefault(),t.authenticateFb(e)}}},[n("b-icon",{attrs:{icon:"facebook"}}),n("span",[t._v("Sign In with Facebook")])],1)]),n("form",{on:{submit:function(e){return e.preventDefault(),t.submitSignIn(e)}}},[t._m(0),n("b-field",{attrs:{label:"Username or Email"}},[n("b-input",{attrs:{placeholder:"Username or Email"},model:{value:t.user.username,callback:function(e){t.$set(t.user,"username",e)},expression:"user.username"}})],1),n("b-field",{attrs:{label:"Password"}},[n("b-input",{attrs:{type:"password",placeholder:"Password","password-reveal":""},model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}})],1),n("div",{staticClass:"field"},[n("button",{staticClass:"button is-success is-fullwidth is-hoverable"},[n("b-icon",{attrs:{icon:"login-variant"}}),n("span",[t._v("Sign In")])],1)]),n("div",{staticClass:"field has-text-centered"},[n("span",[t._v("Not registered yet ? ")]),n("router-link",{attrs:{to:"/signup"}},[t._v("Signup")])],1)],1)])])},M=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"field has-text-centered"},[n("p",{staticClass:"is-5"},[t._v("Or")])])}],A={data:function(){return{user:{username:"",password:""}}},methods:Object(c["a"])({},Object(l["b"])(["authenticateFb","signIn"]),{submitSignIn:function(){""===this.user.username.trim()||""===this.user.password.trim()?this.$toast.open({duration:3e3,message:"Username or Password cannot be empty",type:"is-danger"}):this.signIn({username:this.user.username,password:this.user.password})}})},z=A,R=Object(f["a"])(z,S,M,!1,null,null,null),I=R.exports,U={name:"Home",components:{AuthSignin:I}},P=U,B=(n("5pot"),Object(f["a"])(P,E,x,!1,null,null,null)),L=B.exports,N=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"tabs is-centered is-toggle is-fullwidth"},[n("ul",t._l(t.modes,function(e,s){return n("li",{key:s,class:{"is-active":t.mode===e.type},on:{click:function(){return t.changeTodoFilterMode(e.type)}}},[n("a",[t._v(t._s(e.name))])])}))]),n("div",{staticClass:"section"},[n("div",{staticClass:"container"},[n("div",{staticClass:"columns is-centered"},[n("TodoList")],1)])])])},Y=[],F=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"column is-8-tablet is-7-desktop is-6-widescreen"},[n("div",{staticClass:"todo-list box"},[t._m(0),n("div",{staticClass:"field"},[t.todos&&t.todos.length>0?n("div",{staticClass:"columns vertical"},t._l(t.todos,function(t){return n("div",{key:t._id,staticClass:"column"},[n("todo-item",{attrs:{todo:t}})],1)})):n("div",{staticClass:"section has-text-centered"},[n("span",{staticClass:"is-size-5"},[t._v("\n          You have no task in this section.\n        ")])])])])])},V=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"field"},[n("p",{staticClass:"is-size-4"},[t._v("TodoList")])])}],K=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-collapse",{staticClass:"card",attrs:{open:!1},scopedSlots:t._u([{key:"trigger",fn:function(e){return n("div",{staticClass:"card-header"},[n("p",{staticClass:"card-header-title is-flex todo-item__header"},[n("span",[n("b-icon",{attrs:{icon:"equal-box",size:"is-small"}}),n("span",{staticClass:"todo-item__text",class:{"is-completed":t.todo.completed}},[t._v(t._s(t.todo.content))])],1),t.todo.completed?n("span",{staticClass:"subtitle is-size-6"},[t._v("\n            Completed\n          ")]):n("span",{staticClass:"subtitle is-size-6"},[t._v("\n            Deadline "+t._s(t.relativeDeadlineDate)+"\n          ")])]),n("a",{staticClass:"card-header-icon"},[n("b-icon",{attrs:{icon:e.open?"menu-up":"menu-down"}})],1)])}}])},[n("div",{staticClass:"card-content"},[n("div",{staticClass:"content"},[n("p",[n("strong",[t._v("Deadline date: ")]),n("span",[t._v(t._s(t.completeDeadlineDate))])])])]),n("footer",{staticClass:"card-footer"},[n("a",{staticClass:"card-footer-item",on:{click:function(e){return e.preventDefault(),t.submitCompleteTodo(e)}}},[n("b-icon",{attrs:{icon:t.todo.completed?"emoticon-sad":"emoticon"}}),t._v("\n          "+t._s(t.todo.completed?"Uncomplete":"Complete")+"\n        ")],1),n("a",{staticClass:"card-footer-item",on:{click:function(e){return e.preventDefault(),function(){return t.editTodo(t.todo)}()}}},[n("b-icon",{attrs:{icon:"pencil"}}),t._v("\n          Edit\n        ")],1),n("a",{staticClass:"card-footer-item",on:{click:function(e){return e.preventDefault(),function(){return t.deleteTodo(t.todo._id)}()}}},[n("b-icon",{attrs:{icon:"delete"}}),t._v("\n          Delete\n        ")],1)])])},$=[],W=n("wd/R"),Q=n.n(W),J={name:"TodoItem",props:{todo:{type:Object,required:!0}},computed:{completeDeadlineDate:function(){return Q()(this.todo.deadline).format("dddd, MMMM Do YYYY")},relativeDeadlineDate:function(){return Q()(this.todo.deadline).endOf("day").fromNow()}},methods:Object(c["a"])({},Object(l["b"])(["deleteTodo","completeTodo","setCurrentTodo","openTodoModal"]),{submitCompleteTodo:function(){var t={todoId:this.todo._id,completed:!this.todo.completed};this.completeTodo(t)},editTodo:function(t){this.setCurrentTodo(t),this.openTodoModal()}})},H=J,q=(n("Kn+W"),Object(f["a"])(H,K,$,!1,null,null,null)),X=q.exports,Z={name:"TodoList",computed:Object(c["a"])({},Object(l["c"])(["todos"])),props:{mode:String},components:{TodoItem:X},methods:Object(c["a"])({},Object(l["b"])(["getAllTodos"])),created:function(){this.getAllTodos()}},G=Z,tt=(n("PEmz"),Object(f["a"])(G,F,V,!1,null,null,null)),et=tt.exports,nt={name:"Dashboard",data:function(){return{modes:[{type:"all",name:"All Tasks"},{type:"today",name:"Today"},{type:"tommorow",name:"Tommorow"},{type:"overdue",name:"Overdue"},{type:"completed",name:"Completed"}]}},components:{TodoList:et},computed:Object(c["a"])({},Object(l["c"])(["mode"])),methods:Object(c["a"])({},Object(l["b"])(["changeTodoFilterMode"]),{changeMode:function(t){this.changeTodoFilterMode(t)}})},st=nt,at=(n("d28J"),Object(f["a"])(st,N,Y,!1,null,null,null)),ot=at.exports,rt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"column is-6-tablet is-5-desktop is-4-widescreen"},[n("form",{staticClass:"box",on:{submit:function(e){return e.preventDefault(),t.signUp(e)}}},[n("div",{staticClass:"field"},[n("a",{on:{click:function(e){return e.preventDefault(),t.goBack(e)}}},[n("span",{staticClass:"back icon"},[n("b-icon",{attrs:{icon:"arrow-left"}})],1)]),n("span",{staticClass:"is-size-4"},[t._v("Signup")])]),n("b-field",{attrs:{label:"Username"}},[n("b-input",{attrs:{placeholder:"Username",minLength:"6"},model:{value:t.userData.username,callback:function(e){t.$set(t.userData,"username",e)},expression:"userData.username"}})],1),n("b-field",{attrs:{label:"Email"}},[n("b-input",{attrs:{type:"email",placeholder:"e.g. john@mail.com"},model:{value:t.userData.email,callback:function(e){t.$set(t.userData,"email",e)},expression:"userData.email"}})],1),n("b-field",{attrs:{label:"Password"}},[n("b-input",{attrs:{type:"password",placeholder:"Password",minLength:"6"},model:{value:t.userData.password,callback:function(e){t.$set(t.userData,"password",e)},expression:"userData.password"}})],1),n("b-field",{attrs:{label:"Password Confirmation"}},[n("b-input",{attrs:{type:"password",placeholder:"Password Confirmation"},model:{value:t.userData["password-confirm"],callback:function(e){t.$set(t.userData,"password-confirm",e)},expression:"userData['password-confirm']"}})],1),n("div",{staticClass:"field"},[n("button",{staticClass:"button is-link is-fullwidth is-hoverable",class:t.status},[n("b-icon",{attrs:{icon:"account-plus"}}),n("span",[t._v("Signup")])],1)])],1)])},it=[],ct=(n("rGqo"),n("yt8O"),n("RW0V"),n("vDqi")),lt=n.n(ct),ut={name:"AuthSignup",data:function(){return{userData:{username:"",email:"",password:"","password-confirm":""},status:""}},computed:{isAnyFieldEmpty:function(){var t=this,e=Object.keys(this.userData),n=e.some(function(e){return""===t.userData[e].trim()});return n}},methods:{goBack:function(){this.$router.go(-1)},signUp:function(){var t=this;if(this.isAnyFieldEmpty)this.$toast.open({duration:3e3,message:"Fields cannot be empty",type:"is-danger"});else{var e=this;this.status="is-loading",lt.a.post("http://localhost:3000/api/signup",this.userData).then(function(n){200===n.status&&(t.status="",e.$router.push({name:"signin"}))}).catch(function(e){e&&(t.$toast.open({duration:3e3,message:"Sign up failed",type:"is-danger"}),t.status="")})}}}},dt=ut,pt=(n("JGp3"),Object(f["a"])(dt,rt,it,!1,null,null,null)),mt=pt.exports,ft=(n("ls82"),n("MECJ")),ht=n("Wcq6"),vt=n.n(ht),bt=(n("6nsN"),{apiKey:"AIzaSyCxDq-5POK2YmxMzEQuPW-plT1V4lIe2Pw",authDomain:"fancy-todo-96a22.firebaseapp.com"}),jt=vt.a.initializeApp(bt),gt=jt,Tt={token:window.localStorage.getItem("token")||null},Ot={isLoggedIn:function(t){return null!==t.token}},kt={SET_TOKEN:function(t,e){t.token=e}},wt={signOut:function(t){var e=t.commit;e("SET_TOKEN",null),e("RESET_USER_STATE",null,{root:!0}),e("RESET_TODO_STATE",null,{root:!0}),window.localStorage.removeItem("token"),Pt.push({name:"signin"})},signIn:function(){var t=Object(ft["a"])(regeneratorRuntime.mark(function t(e,n){var s,a,o,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return s=e.commit,a=e.dispatch,t.prev=1,t.next=4,lt.a.post("http://localhost:3000/api/signin",n);case 4:return o=t.sent,r=o.data,s("SET_TOKEN",r.token),window.localStorage.setItem("token",r.token),t.next=10,a("getUserInfo",null,{root:!0});case 10:Pt.push({name:"dashboard"}),t.next=17;break;case 13:t.prev=13,t.t0=t["catch"](1),this._vm.$toast.open({duration:3e3,message:t.t0.response.data.message,type:"is-danger"}),console.log(t.t0.response);case 17:case"end":return t.stop()}},t,this,[[1,13]])}));return function(e,n){return t.apply(this,arguments)}}(),fbSignin:function(){var t=Object(ft["a"])(regeneratorRuntime.mark(function t(e,n){var s,a,o,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return s=e.commit,a=e.dispatch,t.prev=1,t.next=4,lt.a.post("http://localhost:3000/api/fbSignin",{accessToken:n});case 4:return o=t.sent,r=o.data,s("SET_TOKEN",r.token),window.localStorage.setItem("token",r.token),t.next=10,a("getUserInfo",null,{root:!0});case 10:Pt.push({name:"dashboard"}),t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](1),console.log(t.t0.response);case 16:case"end":return t.stop()}},t,this,[[1,13]])}));return function(e,n){return t.apply(this,arguments)}}(),authenticateFb:function(t){var e=t.dispatch,n=new vt.a.auth.FacebookAuthProvider;n.addScope("email"),gt.auth().signInWithPopup(n).then(function(t){e("fbSignin",t.credential.accessToken)})}},Ct={state:Tt,getters:Ot,mutations:kt,actions:wt},_t={username:"",email:""},yt={username:function(t){return t.username},email:function(t){return t.email}},Dt={SET_USERNAME:function(t,e){t.username=e},SET_EMAIL:function(t,e){t.email=e},RESET_USER_STATE:function(t){t.username="",t.email=""}},Et={getUserInfo:function(){var t=Object(ft["a"])(regeneratorRuntime.mark(function t(e){var n,s,a,o,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.rootState,s=e.commit,a=n.auth.token,t.next=4,lt.a.get("http://localhost:3000/api/me",{headers:{Authorization:"Bearer ".concat(a)}});case 4:o=t.sent,r=o.data,s("SET_USERNAME",r.user.username),s("SET_EMAIL",r.user.email);case 8:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},xt={state:_t,getters:yt,mutations:Dt,actions:Et},St=n("iv4g"),Mt={todos:[],openTodoModal:!1,mode:"all",currentTodo:null},At={todos:function(t,e){var n,s=e.mode;switch(s){case"today":var a=Q()();n=t.todos.filter(function(t){var e=Q()(t.deadline),n=e.endOf("day").diff(a,"days");return 0===n&&!t.completed});break;case"tommorow":var o=Q()();n=t.todos.filter(function(t){var e=Q()(t.deadline),n=e.endOf("day").diff(o,"days");return 1===n&&!t.completed});break;case"overdue":var r=Q()();n=t.todos.filter(function(t){var e=Q()(t.deadline),n=e.endOf("day").diff(r,"days");return n<0&&!t.completed});break;case"completed":n=t.todos.filter(function(t){return t.completed});break;default:n=t.todos.filter(function(t){return!t.completed})}return n},isTodoModalOpened:function(t){return t.openTodoModal},mode:function(t){return t.mode},currentTodo:function(t){return t.currentTodo}},zt={SET_TODOS:function(t,e){t.todos=e},ADD_TODO:function(t,e){t.todos=Object(St["a"])(t.todos).concat([e])},DELETE_TODO:function(t,e){t.todos=t.todos.filter(function(t){return t._id!==e})},UPDATE_TODO:function(t,e){t.todos=t.todos.map(function(t){return t._id===e._id?e:t})},SHOW_MODAL:function(t){t.openTodoModal=!0},CLOSE_MODAL:function(t){t.openTodoModal=!1},CHANGE_MODE:function(t,e){t.mode=e},RESET_TODO_STATE:function(t){t.openTodoModal=!1,t.todos=[],t.mode="all"},SET_CURRENT_TODO:function(t,e){t.currentTodo=e}},Rt={getAllTodos:function(){var t=Object(ft["a"])(regeneratorRuntime.mark(function t(e){var n,s,a,o,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,s=e.rootState,a=s.auth.token,t.next=4,lt.a.get("http://localhost:3000/api/todos",{headers:{Authorization:"Bearer ".concat(a)}});case 4:o=t.sent,r=o.data,n("SET_TODOS",r.todos);case 7:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),addNewTodo:function(){var t=Object(ft["a"])(regeneratorRuntime.mark(function t(e,n){var s,a,o,r,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return s=e.commit,a=e.rootState,o=a.auth.token,t.next=4,lt.a.post("http://localhost:3000/api/todos",n,{headers:{Authorization:"Bearer ".concat(o)}});case 4:r=t.sent,i=r.data,s("ADD_TODO",i.todo);case 7:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}(),completeTodo:function(){var t=Object(ft["a"])(regeneratorRuntime.mark(function t(e,n){var s,a,o,r,i,c,l;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return s=e.commit,a=e.rootState,o=n.todoId,r=n.completed,i=a.auth.token,t.next=5,lt.a.put("http://localhost:3000/api/todos/".concat(o),{completed:r},{headers:{Authorization:"Bearer ".concat(i)}});case 5:c=t.sent,l=c.data,s("UPDATE_TODO",l.todo);case 8:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}(),deleteTodo:function(){var t=Object(ft["a"])(regeneratorRuntime.mark(function t(e,n){var s,a,o,r,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return s=e.commit,a=e.rootState,o=a.auth.token,t.next=4,lt.a.delete("http://localhost:3000/api/todos/".concat(n),{headers:{Authorization:"Bearer ".concat(o)}});case 4:r=t.sent,i=r.data,s("DELETE_TODO",i.deletedTodo._id);case 7:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}(),updateTodo:function(){var t=Object(ft["a"])(regeneratorRuntime.mark(function t(e,n){var s,a,o,r,i,c;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return s=e.commit,a=e.rootState,o={content:n.content,deadline:n.deadline},r=a.auth.token,t.next=5,lt.a.put("http://localhost:3000/api/todos/".concat(n.id),o,{headers:{Authorization:"Bearer ".concat(r)}});case 5:i=t.sent,c=i.data,s("UPDATE_TODO",c.todo);case 8:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}(),openTodoModal:function(t){var e=t.commit;e("SHOW_MODAL")},closeTodoModal:function(t){var e=t.commit;e("CLOSE_MODAL"),e("SET_CURRENT_TODO",null)},changeTodoFilterMode:function(t,e){var n=t.commit;n("CHANGE_MODE",e)},setCurrentTodo:function(t,e){var n=t.commit;n("SET_CURRENT_TODO",e)}},It={state:Mt,getters:At,mutations:zt,actions:Rt};s["a"].use(l["a"]);var Ut=new l["a"].Store({modules:{auth:Ct,user:xt,todo:It}});s["a"].use(D["a"]);var Pt=new D["a"]({mode:"history",routes:[{path:"/",component:L,beforeEnter:function(t,e,n){Ut.state.auth.token?n({name:"dashboard"}):n()},children:[{path:"",name:"signin",component:I},{path:"signup",name:"signup",component:mt}]},{path:"/dashboard",name:"dashboard",component:ot,beforeEnter:function(t,e,n){Ut.state.auth.token?n():n({name:"signin"})}}],linkExactActiveClass:"is-active"});s["a"].config.productionTip=!1,s["a"].use(o.a),new s["a"]({router:Pt,store:Ut,render:function(t){return t(y)}}).$mount("#app")},d28J:function(t,e,n){"use strict";var s=n("qRII"),a=n.n(s);a.a},hMKP:function(t,e,n){"use strict";var s=n("EAwK"),a=n.n(s);a.a},"jd/z":function(t,e,n){},nNx0:function(t,e,n){"use strict";var s=n("uWEC"),a=n.n(s);a.a},qRII:function(t,e,n){},uWEC:function(t,e,n){}});
//# sourceMappingURL=app.7a6b777e.js.map